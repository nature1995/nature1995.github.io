<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[基于Django和TencentOS tiny的IoT智能灯系统设计]]></title>
    <url>%2F2019%2F08%2F17%2F%E5%9F%BA%E4%BA%8EDjango%E5%92%8CTencentOS%20tiny%E7%9A%84IoT%E6%99%BA%E8%83%BD%E7%81%AF%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[内容：硬件简介软件简介系统功能概述DemoTODO使用感想如今，工业，农业，生活里面的很多设备已经接入物联网，这些设备通过同一的平台进行管理。但是，每家厂商都自己接入自己的物联网设备，造成了设备与平台的割裂。所以打通设备与云平台成为非常重要的一环。而腾讯云物联网开发平台正是为次孕育而生，为整个行业推出一套解决方案。本文主要依据开发文档，一步步实现基于Django web控制智能灯软硬件系统。本设计包括3部分组成，用户可以通过web界面进与IoT设备进行简单操作。包括Django web平台，腾讯云平台，IoT设备，其系统架构图如下：硬件简介用过STM32板子的同学对于开发这个肯定不陌生，但是对于只用过树莓派的同学，还是有很大区别的。这个板子长这个样子，看上去跟普通的板子没啥区别，但是盒子里面的东西，以及外设的设置都比较良心。列出以下几点：是烧录工具，贴心的4连杜邦线，直接插入即可。妈妈再也不用担心因为插错而烧坏板子！串口直接采用usb串口，无需购买额外ttl转串口工具。板载电池，更适合物联网需求。各种外设，需要的都在，最关键的是支持各种联网外设，符合各种传输需求。软件简介内核开发环境：Keil5 推荐IARgcc云平台API数据查询接口设备管理接口软件开发：DjangoDjango REST framework系统功能概述内核功能修改添加智能灯设备初始化与控制，自定义修改OLED显示内容云平台配置云平台提供相应的模版，可以配置需要的状态以及字段，通过上下行数据进行同步。并且可以通过手动去测试api，上手十分方便。web服务开发通过Django搭建基于web服务，通过REST framework存储状态。前端处理用户的控制以及状态、地图的显示。后端处理请求结果，状态同步等工作。数据同步借助controller进行硬件、平台和数据库之间状态的转移与同步。并完成发送命令到云平台，进行下发控制。用户根据web界面进行控制操作，并将状态同步到数据库中。控制界面图如下所示：Demo时间有限，所以录了一个小视频。链接地址（Youtube）：https://www.youtube.com/watch?v=ctormFkCIqU后续改进TODO由于只开发了2天，所以有多功能每加，列举了之后会加入的想法和功能：根据光照强度调节定时开关灯微信接入，远程控制试用感受本次内测由于外设没有那么多，只能够用到现成的资源，修改少部分内核，大部分实现功能在web上面。我之前使用过STM32F103，对于Keil的使用以及配置没有什么太多的问题，如果需要更深修改内核，只需要参考芯片手册即可。所以包括硬件连接，已有内核上代码修改都感觉手难度比较容易。对于腾讯云平台的体验还是不错的，但是网络环境的影响还是稍有些延迟。总体上对于腾讯云平台的调试工具基于好评，支持自动生成代码。生产环境安全性很重要，但对于调试认证过期问题，希望腾讯云平台可以改进、优化调试认证流程。最后，希望这个开发版可以开发出更多好的应用，希望自己的实践可以为之后的人提供一些思路。联系方式邮箱：gzr2008@vip.qq.com个人主页 WEB PAGE: http://www.ranxiaolang.com | 博客 BLOG: https://nature1995.club]]></content>
      <categories>
        <category>IOT</category>
      </categories>
      <tags>
        <tag>物联网，云API</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac iTerm 2 + oh-my-zsh + agnoster教程（好用的终端神器）]]></title>
    <url>%2F2019%2F07%2F07%2FMac%20iTerm%202%20%2B%20oh-my-zsh%20%2B%20agnoster%E6%95%99%E7%A8%8B%EF%BC%88%E5%A5%BD%E7%94%A8%E7%9A%84%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8%EF%BC%89%2F</url>
    <content type="text"><![CDATA[Mac Appium详细安装教程一个好看的终端，先上效果图。下载 iTerm 2https://www.iterm2.com/安装 oh-my-zsh 官网1sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"更换默认的 shell终端执行命令chsh -s /bin/zsh更换zsh之后默认启动执行脚本变为了~/.zshrc如果你之前使用的.bash_profile需要：修改~/.zshrc文件，在其中添加：source ~/.bash_profile 和 source ~/.bashrc更换 agnoster 主题打开.zshrc文件open ~/.zshrc修改ZSH_THEME=&quot;agnoster&quot;保存重新打开 iTerm 2下载 Powerline fonts 字体 官网克隆git clone https://github.com/powerline/fonts.git --depth=1安装cd fonts./install.sh清理cd ..rm -rf fonts修改 iTerm 2 配置进入 Preferences… Profiles Text Font 选择 Powerline 字体修改 Solarized 配色方案去掉前面的用户名称打开agnoster.zsh-theme文件1open ~/.oh-my-zsh/themes/agnoster.zsh-theme注释 prompt_context1234567891011build_prompt() &#123; RETVAL=$? prompt_status prompt_virtualenv# prompt_context prompt_dir prompt_git prompt_bzr prompt_hg prompt_end&#125;保存重新打开 iTerm 2]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac Appium详细安装教程]]></title>
    <url>%2F2019%2F07%2F07%2FMac%20Appium%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Mac Appium详细安装教程1. 直接安装：Appium官网下载：https://bitbucket.org/appium/appium.app/downloads/这里mac系统升级到 Sierra后，无法安装不被认可的软件，必须恢复“任何来源”，运行命令 sudo spctl –master-disable，成功后如图所示：注意⚠️：如果允许appium-doctor遇到问题，由于Appium无法探测到Mac OS 10.11以上的版本，解决办法如下所示：1grep -rl "Could not detect Mac OS X Version from sw_vers output:" /Applications/Appium.app/终端输出如下信息Terminal will show : /Applications/Appium.app//Contents/Resources/node_modules/appium/node_modules/appium-support/build/lib/system.js /Applications/Appium.app//Contents/Resources/node_modules/appium/node_modules/appium-support/lib/system.js /Applications/Appium.app//Contents/Resources/node_modules/appium-support/build/lib/system.js /Applications/Appium.app//Contents/Resources/node_modules/appium-support/lib/system.js通过vim按照如下所示对每个文件进行编辑vim /Applications/Appium.app//Contents/Resources/node_modules/appium/node_modules/appium-support/build/lib/system.js1234567891011Change From -&gt;case 10: _arr = ['10.8', '10.9', '10.10', '10.11']; _i = 0;To -&gt;case 10: _arr = ['10.8', '10.9', '10.10', '10.11','10.12', '10.13', '10.14']; _i = 0;vim /Applications/Appium.app//Contents/Resources/node_modules/appium/node_modules/appium-support/lib/system.js1234567891011Change From -&gt;try &#123;stdout = (await exec('sw_vers', ['-productVersion'])).stdout;&#125;To -&gt;try &#123;stdout = (await exec('sw_vers', ['-productVersion'])).stdout.trim();&#125;1234567891011Change From -&gt;for (let v of ['10.8', '10.9', '10.10', '10.11']) &#123;if (stdout.indexOf(v) === 0) &#123; return v; &#125;&#125;To -&gt;for (let v of ['10.8', '10.9', '10.10', '10.11','10.12', '10.13', '10.14']) &#123;if (stdout.indexOf(v) === 0) &#123; return v; &#125;&#125;vim /Applications/Appium.app//Contents/Resources/node_modules/appium-support/build/lib/system.js12345678910Change From -&gt;case 10: _arr = ['10.8', '10.9', '10.10', '10.11']; _i = 0;To -&gt;case 10: _arr = ['10.8', '10.9', '10.10', '10.11', '10.12', '10.13', '10.14'];vim /Applications/Appium.app//Contents/Resources/node_modules/appium-support/lib/system.js1234567891011Change From -&gt;try &#123;stdout = (await exec('sw_vers', ['-productVersion'])).stdout;&#125;To -&gt;try &#123;stdout = (await exec('sw_vers', ['-productVersion'])).stdout.trim();&#125;1234567891011Change From -&gt;for (let v of ['10.8', '10.9', '10.10', '10.11']) &#123;if (stdout.indexOf(v) === 0) &#123; return v; &#125;&#125;To -&gt;for (let v of ['10.8', '10.9', '10.10', '10.11','10.12', '10.13', '10.14']) &#123;if (stdout.indexOf(v) === 0) &#123; return v; &#125;&#125;2. 命令行安装brew install node # get node.js 或者直接安装：Node.js官网下载：https://nodejs.org/zh-cn/download/（直接安装的node中直接包含了npm，且路径正确，不存在关联错误的情况）npm install -g appium # get appiumnpm install wd # get appium client直接用npm下载往往不成功，这是需要通过代理来下载，我参考的文章是：https://segmentfault.com/q/1010000006025361/a-1020000006252474具体方法如下：1234567&gt; npm i cnpm -g --registry=http://registry.npm.taobao.org&gt; cnpm i appium -g # get appium&gt; cnpm i wd -g # get appium client&gt; cnpm i appium-doctor # get appium-doctor3.检查Appium成功安装appium-doctor以上有部分软件未安装，接下来弥补上。Appium配置AppStore下载Xcode直接安装即可；或者命令行安装： $ xcode-select --installAndroid SDK 下载地址：http://tools.android-studio.org/index.php/sdk将下载的 Android SDK 解压，将得到如下目录。(具体安装步骤可以阅读 SDK Readme.txt) 点击运行文件tools/android, 安装步骤一步一步安装并下载完SDK后，配置环境变量123456&gt; vim ~/.bash_profile export ANDROID_HOME=/usr/local/android-sdk-macosxexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/toolsexport PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/platform-tools网上下载java安装后，配置环境变量 (详细参照：http://www.micmiu.com/lang/java/set-javahome-on-mac-os-x/)123456&gt; vim ~/.bash_profile export JAVA_HOME=$(/usr/libexec/java_home） # get latest version export PATH=$&#123;JAVA_HOME&#125;/bin:$PATHexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar检查Appium成功安装所有配置全部打对勾才算成功，若有打叉的，依次配置，直到全部对勾为止]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Mac</tag>
        <tag>Appium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Google-API构建Web实时语音转文字情感分析]]></title>
    <url>%2F2019%2F02%2F25%2FGoogle-API%E6%9E%84%E5%BB%BAWeb%E5%AE%9E%E6%97%B6%E8%AF%AD%E9%9F%B3%E8%BD%AC%E6%96%87%E5%AD%97%E6%83%85%E6%84%9F%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[本教程中，我们将使用Google API中语音转文字以及自然语言分析功能，这是一个非常强大的人工智能平台，可以用来记录语音并将其转换为文本，并对文本进行实时情感分析。（Google API可能需要科学上网，但可以在文末选择国内的腾讯AI、百度AI平台进行替换）首先罗列这个app的功能 创建Flask Web服务器 构建前端和后端 通过语音录入或者键盘输入的方式保存笔记 实时语音转文本 实时情绪识别 同时进行实时语音，文本，情感识别。 在任何云服务器上面上运行Angry-Ducks语音转文字情感分析助手完整项目地址：https://github.com/angryducks/angry-ducksYoutube: https://www.youtube.com/watch?v=lHrlYdO8gLYB站：https://www.bilibili.com/video/av44429125项目截图：Google API语音转文本下载gcloud工具并配置准备工作设置GCP控制台项目。设置一个项目创建或选择一个项目。为该项目启用Speech-to-Text API。创建服务帐户。下载私钥作为JSON。您可以随时在GCP控制台中查看和管理这些资源。暗转和初始化Cloud SDK.身份验证对于身份验证，我们建议您使用服务帐号：即与您的 GCP 项目（而不是与特定用户）关联的 Google 帐号。无论代码在何处（本地、Compute Engine、App Engine 或内部等）运行，都可以使用服务帐号进行身份验证。如需详细了解其他身份验证类型，请参阅身份验证概览。参考：https://cloud.google.com/docs/authentication/getting-started#auth-cloud-implicit-python发出音频转录请求现在您可以使用 Speech-to-Text 将音频文件转录为文字。使用以下代码示例向 Speech-to-Text API 发送 recognize 请求。打开命令行 shell 并运行以下命令。12gcloud ml speech recognize 'gs://cloud-samples-tests/speech/brooklyn.flac' \ --language-code='en-US'此命令请求 Speech-to-Text 转录一个 FLAC 中包含的音频，该 FLAC 在一个可公开访问的位置进行托管。如果请求成功，服务器将返回 JSON 格式的响应：123456789101112&#123; "results": [ &#123; "alternatives": [ &#123; "confidence": 0.9840146, "transcript": "how old is the Brooklyn Bridge" &#125; ] &#125; ]&#125;恭喜！您已向 Cloud Speech-to-Text 发送了您的第一个请求！Google API情感分析点击链接开通即可https://cloud.google.com/natural-language/?_ga=2.224506522.-145586126.1544583292本项目语音转文本部分Cloud Speech-to-Text 可实现将 Google 语音识别技术轻松集成到开发者应用中。向 Speech-to-Text API服务发送音频，即可收到文字转录结果。注意： setting.py里面的GOOGLE_API = ‘google-api.json’需要配置成自己的json文件，文件名可以修改首先我们需要借助Recorder.js进行录音。建议使用Chrome和Firefox浏览器然后通过aduck.js进行Recorder按钮的控制123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384$( document ).ready( function () &#123; var aduck = &#123;&#125;; aduck.init = function () &#123; aduck.createWebSocket(); aduck.initRecordButton(); aduck.initSentimentButtom(); &#125;; aduck.getRecorder = function ( s ) &#123; context = new AudioContext(); source = context.createMediaStreamSource( s ); recorder = new Recorder( source, &#123; numChannels: 1, &#125; ); recorder.record(); aduck.setInterval(); &#125;; aduck.createWebSocket = function () &#123; socket = io.connect( '//' + document.domain + ':' + location.port ); socket.on( 'connect', function () &#123; console.log( 'Connected!' ); &#125; ); socket.on( 'transcript', function ( data ) &#123; console.log('data: ', data); $( '.recognized-text' ).append( ' ' + data ); &#125; ); &#125;; aduck.setInterval = function () &#123; if ( 'undefined' !== typeof recorder ) &#123; exportInterval = setInterval( function () &#123; recorder.exportWAV( function ( blob ) &#123; recorder.clear(); if ( 'undefined' !== typeof socket ) &#123; console.log("blob: ", blob); socket.emit( 'stream', blob ); &#125; &#125; ); &#125;, 5000 ); &#125; &#125;; aduck.clearInterval = function () &#123; clearInterval( exportInterval ); &#125;; aduck.initRecorder = function () &#123; if ( 'undefined' === typeof recorder ) &#123; navigator.mediaDevices.getUserMedia( &#123; audio: true, video: false &#125; ).then( aduck.getRecorder ); &#125; &#125;; aduck.initRecordButton = function () &#123; $( '.recorder' ).click( function ( e ) &#123; e.preventDefault(); if ( $( this ).hasClass( 'is-recording' ) ) &#123; // Stop Recording $( this ).removeClass( 'active is-recording btn-danger' ).text( 'Start Recording' ); if ( 'undefined' !== typeof recorder ) &#123; recorder.stop(); &#125; aduck.clearInterval(); &#125; else &#123; // Start Recording $( this ).addClass( 'active is-recording btn-danger' ).text( 'Stop Recording' ); if ( 'undefined' !== typeof recorder ) &#123; recorder.record(); aduck.setInterval(); &#125; else &#123; aduck.initRecorder(); &#125; &#125; &#125; ); &#125;; $( aduck.init() );&#125; );后端通过processData函数进行语音转文字处理，并显示在前端界面：1234567891011121314151617181920212223242526272829app = Flask(__name__)socketio = SocketIO(app)# credentials, project = google.auth.default()credentials = service_account.Credentials.from_service_account_file( setting.GOOGLE_API)credentials = credentials.with_scopes( ['https://www.googleapis.com/auth/cloud-platform'])client = speech.SpeechClient(credentials=credentials)def processData(data): content = data audio = types.RecognitionAudio(content=content) config = types.RecognitionConfig( encoding=enums.RecognitionConfig.AudioEncoding.LINEAR16, language_code='en-US') try: response = client.recognize(config=config, audio=audio) for result in response.results: print('transcript: ', result.alternatives) emit('transcript', result.alternatives[0].transcript) except RetryError as e: print("Error: &#123;0&#125;".format(e)) except: print("Error:", sys.exc_info()[0])一开始调用的时候浏览器将会弹出提示框，请求允许获得麦克风权限。至此，语音转文本部分已经完成，下面我们继续实现文本情感。实时文本情感首先在aduck.js里面添加动态按钮，并对情感进行动态显示1234567891011121314151617181920212223242526272829303132333435aduck.initSentimentButtom = function()&#123; $( '.sentiment' ).click( function ( e ) &#123; e.preventDefault(); //log console.log($(this)) var reconginized_text = $( '.recognized-text' ).val(); var xhr = new XMLHttpRequest(); //log console.log( $( '.recognized-text' ).val()); // xhr.open("POST", '/sentiment?data=' + reconginized_text, true); // xhr.send().then(function() &#123; // console.log('sentiment1: ', xhr.response); // &#125;); // console.log('sentiment: ', xhr.response) const url = "/sentiment?data=" + reconginized_text; fetch(url, &#123;method: 'POST'&#125;) .then( response =&gt; response.json()) .then( function(res) &#123; console.log(typeof res); if (parseFloat(res.score) &gt; 0.0) &#123; document.getElementById("duck-img").src="./static/images/happy.png"; // document.getElementById("angry-img").style.visibility="hidden"; // document.getElementById("neu-img").style.visibility="hidden"; &#125; else if (parseFloat(res.score) &lt; 0.0) &#123; document.getElementById("duck-img").src="./static/images/angry.png"; // document.getElementById("happy-img").style.visibility="hidden"; // document.getElementById("neu-img").style.visibility="hidden"; &#125; else if (parseFloat(res.score) == 0.0) &#123; // document.getElementById("angry-img").style.visibility="hidden"; // document.getElementById("happy-img").style.visibility="hidden"; document.getElementById("duck-img").src="./static/images/neu.png"; &#125; &#125;); &#125;);&#125;;实时文本情感分析detect_sentiment函数实现：1234567891011121314151617def detect_sentiment(text): credentials = service_account.Credentials.from_service_account_file( setting.GOOGLE_API) credentials = credentials.with_scopes( ['https://www.googleapis.com/auth/cloud-platform']) client = language.LanguageServiceClient(credentials=credentials) document = types.Document( content=text, type=enums.Document.Type.PLAIN_TEXT) # Detects the sentiment of the text sentiment = client.analyze_sentiment(document=document).document_sentiment print('Text: &#123;&#125;'.format(text)) print('Sentiment: &#123;&#125;, &#123;&#125;'.format(sentiment.score, sentiment.magnitude)) return sentiment当此函数被调用时，会返回文本情感分析结果。总结在人工智能发展的今天，情感分析可以帮助我们对我们所说的话进行实时分析，协助我们对我们的情感进行判断。语音助手逐渐走进日常的生产和生活中。这样一个app可以帮助我们快速构建可以部署的Web人工智能服务。如果你需要使用更多API实现更多的功能，可以试试下面的几个第三方API：Face++人工智能开放平台腾讯AI开放平台百度AI开放平台作者：nature1995 | 龚子然zfz | 张方舟zzdqqqq | 张子洞zlaomin | 曾宇晨License本软件根据GNU通用公共许可证v3.0许可证授权。 有关更多信息，请阅读该文件LICENSE.请遵守开源协议，即便是在中国！！！]]></content>
      <categories>
        <category>AI</category>
      </categories>
      <tags>
        <tag>Google</tag>
        <tag>Speech to Text</tag>
        <tag>Sentiment analysis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5G安全性规范与协议漏洞的全面分析]]></title>
    <url>%2F2019%2F01%2F17%2F5G%E5%AE%89%E5%85%A8%E6%80%A7%E8%A7%84%E8%8C%83%E4%B8%8E%E5%8D%8F%E8%AE%AE%E6%BC%8F%E6%B4%9E%E7%9A%84%E5%85%A8%E9%9D%A2%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[本文对当前的5G协议安全规范进行了全面分析。作为本次研究的一部分，我们列举了协议存在的漏洞，并将其带入实际场景，分析潜在的安全威胁。一、概述第三代合作计划(3GPP)在2018年3月，发布了第15版移动通信系统规范，为第五代移动通信(5G)奠定了基础。5G网络的目标是提供无处不在的高速、低延迟网络连接，以更好的应用于高清视频和物联网的场景，同时服务于大规模通信以及实时控制的需求。因此，最新一代移动通信的设计原则是支持更高承载量、支持更高数据速率、减少延迟、支持大规模设备连接，从而实现触觉互联网(Tactile Internet)、增强现实(AR)、虚拟现实(VR)以及智慧车辆互联。与此前的2G、3G和4G(LTE)一样，安全性对于5G通信网络和服务至关重要，因为目前，移动系统正在为全世界数十亿人提供连接。此外，蜂窝通信网络是当前新型关键基础设施的连接基石，包括智能电网、第一响应单元(First Responder Units)和先进的军事自组织网络。5G的出现将诞生新的网络和应用，包括用于辅助驾驶或自动驾驶的下一代车载网络，以及智慧城市和智慧社区。传统的2G网络存在着一些安全弱点，最严重的一个问题就是网络和用户设备(UE)之间缺乏相互认证。正因如此，从3G开始，安全性便始终成为了移动通信的关键设计考虑要素之一。LTE实现了强大的加密和完整性保护算法，支持基于对称密钥的相互认证系统，该系统安全的存储在通用用户识别模块(USIM)或SIM中，以及运营商的归属用户服务器(HSS)上。然而，近年来的安全研究又发现了LTE协议固有的一系列漏洞。例如，大量的预身份验证消息以明文形式发送，并且该消息可以被利用发起拒绝服务(DoS)攻击，并从用户设备(UE)处获得移动用户的位置信息。LTE规范的第一版，Release 8，发布于2007年。在很久之后，安全研究人员才发现其主要的安全漏洞，并首次在公开文献中报告。之所以时隔这么久，一个原因在于没有可用且价格合理的LTE安全研究工具。直到最近几年，在个人计算机上运行的LTE软件库和能够使用现有商业软件定义的无线电外设才达到足够的成熟度。只有这些环境可以被安全研究者使用，他们才能对LTE进行深入的研究，从而也就能够取得良好的研究成果，发现许多协议上的漏洞。在5G网络的定义和规范建立过程中，安全性被作为一个关键的考虑要素和核心问题。自从NR和5GC的通信协议建立以来，他们已经在解决已知的LTE协议漏洞方面付出了大量的努力，特别是在防范国际移动用户标识符(IMSI)捕获器Stingrays这一方面。因此，5G协议引入了用户永久标识符(Subscriber Permanent Identifier，SUPI)和用户隐藏标识符(Subscriber Concealed Identifier，SUCI)的概念。更重要的是，5G规范中引入了基于公钥基础设施(PKI)的安全体系结构，允许验证和鉴别源自5GC的控制面消息(Control Plane Messages)。尽管5G协议在努力设计其安全架构，但仍然存在许多不安全协议的边缘案例。攻击者可利用这些案例，来对用户实现拒绝服务攻击，或者拦截敏感用户信息。此外，5G协议规范所基于的场景可能难以符合实际，从而导致不安全的网络配置。具体而言，5G所有安全性的基础都是SIM卡中保存的运营商公钥，只有在“全世界所有移动设备的所有SIM卡中都保存了全世界所有运营商的公钥”这一种情况下，才能保证该协议的绝对安全。此外，所有的运营商也必须负责保证自己的私钥是安全的。在全世界范围内，密钥管理和轮换机制显然是不可行的，并且也不在标准规范之中。并且，受政治因素影响，密钥分配机制可能不会被全球所有国家和地区所采用。一旦上述过程中出现了任何问题，都可能会导致不安全的协议实现或ISMI捕获的风险。本文对当前的5G协议安全规范进行了全面分析。作为本次研究的一部分，我们列举了协议存在的漏洞，并将其带入实际场景，分析潜在的安全威胁。此外，我们还讨论了5G安全性的要求和前提条件，重点关注了全球采用(Global Adoption)及其产生的结果。最后，我们还分析了无线电接入网安全相关的体系结构和过程。但是，关于5GC安全性的分析不在本文的讨论范畴之内。本文主要内容如下：第二章中介绍了5G安全体系结构和组成部分，第三章讨论了3GPP Release 15规范中提出的5G安全要求和过程，第四章详细分析了5G规范的主要安全挑战，重点说明了其存在的协议漏洞利用和敏感信息泄漏的潜在风险，第五章分析已知LTE协议漏洞是否会影响到5G的安全性，最后在第六章中总结了我们的研究结果。二、5G安全体系结构5G的安全体系结构由用户设备(UE)、无线电接入网络(RAN)、核心网络(CN)和应用组成。该体系结构可以简化为应用层、服务层和传输层。下图为服务层和传输层的简化图：在整个网络和终端用户组件之中，分别定义了不同的安全特性，这些特性组合在一起，共同创建了一个安全的系统设计方案：网络访问安全性：(I)：使用户设备(UE)能够经过认证，并且安全的访问网络服务的一系列功能或机制。网络域安全(II)：使核心网络节点能够安全地交换信令数据(Signaling Data)和用户平面数据(User Plane Data)的一系列功能。用户域安全(III)：保护用户访问移动设备和移动服务的一系列功能。基于服务的体系结构(SBA)和域安全性(IV)：SBA域中的一系列功能，包括网元注册、发现和授权，以及对基于服务的接口的保护。安全性的可见与可配置(未在图1标明)：使用户能够获知安全功能是否正在运行，同时使用户能够对安全功能进行配置。5G规范定义了许多网络功能及其接口，允许无线电接入网络(RAN)、核心网络(CN)和外部网络之间的数据流传递。下图展示了简化后的5G网络结构。5G网络功能和安全功能为5G移动通信系统的开发提供了灵活而又安全的设计。下面列举了一些重要的3GPP网络概念和组件，用于定义和分析5G的安全体系结构、要求和过程：5G-GUTI：5G全球唯一临时标识符(5G Global Unique Temporary Identifier)，考虑到安全需要，用于限制SUPI的信令。5GC：5G核心网(5G Core)。AKA：认证和密钥协议(Authentication and Key Agreement)，用于蜂窝网络中无线网络接入的安全协议。ARPF：认证凭据存储和处理功能(Authentication Credential Repository and Processing Function)，将长期安全证书和密钥存储在5G-C中。AUSF：认证服务器功能(Authentication Server Function)，用于归属网络的5G安全过程。CP：控制面(Control Plane)，用于控制数据信令层面。EAP：可扩展身份验证协议(Extensible Authentication Protocol)，认证框架，用于密钥和参数的传输。EPC：演进分组核心网(Evolved Packet Core)，LTE无线核心网络。EPS：演进分组系统(Evolved Packet System)，LTE无线电接入和核心网络。HE：归属环境(Home Environment)，包含用户配置文件、标识符和订阅信息的数据库。IMSI：国际移动用户识别码(International Mobile Subscriber Identity)，用于2G、3G、4G系统，作为识别用户的唯一方式。MCC-MNC：移动国家代码-移动网络代码(Mobile Country Code – Mobile Network Code)，由基站广播，作为识别运营商的唯一方式。ME：移动设备(Mobile Equipment)，移动终端。NAS：非接入层(Non-Access Stratum)，与认证、其他安全功能和控制面机制相关的网络层。PKI：公钥基础设施(Public Key Infrastructure)，分层密钥的一种，用于创建、管理、分发和使用数字证书以及管理公钥加密。RRC：无线资源控制(Radio Resource Control)，在RAN管理上层的无线电资源。SBA：基于服务的体系结构(Service-Based Architecture)，支持切片(Slicing)和虚拟化，从而在每个服务的基础上优化网络性能。SEAF：安全锚功能(Security Anchor Function)，是5G-C功能之一，创建统一的锚键，提供给UE使用，在网络中用于主要的认证和后续通信保护。SMF：会话管理功能(Session Management Function)，是5G-C中SBA的一部分，负责协议数据单元与UE进行交换，包括策略和计费。SN：服务网络(Serving Network)，为UE的网络，可以是归属网络或访客网络。SUCI：用户隐藏标识符(Subscription Concealed Identifier)，使用运营商的公钥对SUPI进行加密。SUPI：用户永久标识符(Subscription Permanent Identifier)，是5G用户的永久身份，相当于IMSI。TAU：跟踪区域更新(Tracking Area Update)，由处于空闲状态的UE发送的消息，以通知网络其跟踪区域(TA)。UDM：统一数据管理(Unified Data Management)，支持ARPF的5GC功能。UE：用户设备(User Equipment)，由ME和USIM组成，提供对用户服务的访问。UP：用户面(User Plane)，用户数据信令层面。USIM：通用用户识别模块(Universal Subscriber Identity Module)，也称为SIM，硬件安全存储，其中包含IMSI(或SUPI)，以及用于用户身份验证和其他AKA功能的密钥。三、3GPP 5G规范安全需求及实现5G的安全体系结构是在定义了一系列安全要求、功能和实现的基础之上构建的。因此，我们将继续进行分析。下面列出了5G无线电接入网络(RAN)的主要安全要求和相应的实现。在其中，包含了一些可能导致安全漏洞的要求和实现，我们将会在后续章节中进一步讨论这些安全漏洞及其潜在影响。1. 通用安全需求：缓解Bidding Down攻击。相互进行认证。用户设备、访问和服务网络授权。允许未经认证的紧急服务。实现：在身份验证过程中，使用EAP-AKA和5G AKA方法。2. 用户设备与5G基站(UE and gNB)安全需求：通过加密，保护用户和信令数据。一旦连接到5G基站，就考虑启用用户设备安全功能和服务网络的安全功能。支持零加密(Null Encryption)。保密性保护可以选择是否启用。用户和信令数据完整性保护和重放保护。一旦连接到5G基站，就考虑启用用户设备安全功能和服务网络的安全功能。支持零完整性保护(Null Integrity Protection)。用户数据的完整性保护可以选择是否启用。RRC和NAS信令保护强制启用，但存在例外，比如未经认证的紧急会话。实现：从密钥体系中导出、分发和协商密钥，支持128位和256位密钥加密。对于网络实体中的每一个密钥，用户设备负责存储相应的密钥，根密钥存储在USIM中。3. 用户设备(UE)安全需求：通过使用防篡改的安全硬件组件，实现对用户凭据的安全存储和安全处理。通过使用临时或隐藏的用户标识符(5G-GUTI和SUPI)获取用户隐私。支持零计划(Null-scheme)方案，在归属网络未提供公钥时使用，该归属网络控制用户隐私及密钥的提供和更新。实现：如果由归属运营商提供，USIM将存储用于隐藏SUPI的归属网络公钥。4. 5G基站(gNB)安全需求：通过证书授权设置和配置，属于可选项。密钥管理，可选用基于5G PKI的架构。密钥的安全环境，UP和CP数据存储及处理。实现：认证和密钥导出可以由网络发起，因为操作方决定什么时间存在活动的NAS连接。(1) 核心框架5G的安全实现基于分层的密钥派生、分发和管理框架之上。密钥存储在很多网络实体之中。长期密钥K由UDM层的ARPF负责存储，USIM保留该对称密钥在用户那里的副本。其他的所有密钥，都是从该密钥派生而来的。(2) 认证和归属控制3GPP建立了EAP-AKA和5G AKA的认证方法，并要求5G UE和5GC必须支持这两种认证方法。这些安全模式用于相互身份验证和后续服务安全性保证。5G UE在其注册请求中需要使用安全的5G-GUTI或SUCI，并从中选择一种认证方法来启动认证过程。当使用EAP-AKA时，UE作为对等体，而5GC SEAF和AUSF分别作为传递服务器和后端认证服务器。5G AKA则是通过向归属网络提供UE从访客网络成功认证的证明，来增强EPS AKA的安全性。增加的归属控制(Home Control)被认为能够有效防止某些类型的欺骗。拟定的5G框架中支持实施这样的过程，但它们被认为超出了标准规范的范围：归属网络采取什么样的方式进行认证确认(或不进行认证确认)取决于运营商的策略，而不是标准化的过程。针对其他的安全实现，也有很多功能超出了协议规范的范围，可能会导致不安全的边缘情况发生。(3) 安全上下文5G安全规范为不同的场景定义了许多安全上下文，包括单个5G服务网络、跨多个服务网络、5G和EPS网络之间。当UE向两个服务网络注册时，这两个网络必须独立地维护和使用其自身的安全上下文。当UE注册到同一个公共陆地移动网(Public Land Mobile Network)中的两个服务网络时(3GPP和非3GPP)，UE会与这些网络建立两个独立的NAS平面连接，但会使用由一组密钥和安全算法组成的公共NAS安全上下文。(4) 状态转换和网络切换此外，还定义了在状态转换和网络切换的过程中，维持或忽略安全上下文的实现方式。规范中提出，如何配置切换过程中的安全性，取决于运营商的策略。这一部分实际上要在运营商的安全需求中体现，因此在切换期间的安全性是一个可选项，没有通过标准来强制执行，这可能导致许多运营商实施不安全的切换过程。(5) 非接入层在公共NAS安全上下文中，具有其中每个NAS连接的参数，支持对两个活动NAS连接的加密分离和重放保护。NAS使用128位加密算法来保证完整性和机密性。但是需要注意的是，这里也支持零加密和零完整性保护。如果UE不存在NAS安全上下文，那么初始的NAS消息将会以明文发送，其中包含用户标识符(例如SUCI或GUTI)和UE安全特性等内容。(6) 无线资源控制RRC的完整性和机密性保护由UE和nGB之间的分组数据汇聚协议(Packet Data Convergence Protocol，PDCP)层提供，并且PDCP下面的层不会受到完整性保护。当完整性保护启用时，除非所选的完整性保护算法是NIA0(零完整性保护)，否则应该同时启用重放保护。RRC完整性检查会同时在ME和gNB中执行。如果在完整性保护启动后，发现有消息没有通过完整性检查，那么相关消息会被丢弃。(7) 用户层在PDU会话建立过程中，SMF应为gNB的协议数据单元(PDU)会话提供用户面(UP)安全策略。如果没有为数据无线承载(DRB)激活用户面完整性保护，那么gNB和UE就不会为DRB实现完整性保护。如果没有为DRB激活用户面加密，那么gNB和UE就不会加密DRB业务的流量。本地SMF能够覆盖从归属SMF接收的用户面安全策略中的机密性选项。(8) 用户ID隐私保护SUCI是5G永久用户标识SUPI的隐藏版本，从而防止暴露SUPI。SUCI使用运营商的公钥，由SUPI生成。零保护方案适用于三种情况：未认证的紧急会话、归属网络进行了相应配置、尚未提供运营商公钥。5G规范还定义了临时标识符5G-GUTI，从而尽最大程度防止SUPI或SUCI的泄露。5G-GUTI将由UE触发重新分配，而重分配的时间间隔是在具体实现中确定的。四、5G的安全挑战和潜在漏洞在第二章和第三章中我们已经分析过，5G移动网络实现了类似于LTE系统的安全架构，并在建立信任和安全性方面与之相比有了明显的提升。准5G通信系统的所有安全功能都基于对称密钥，这些密钥安全地存储在SIM和HSS中。基于共享密钥Ks，4G UE可以认证网络的合法性，同时网络也可以认证UE。加密保护和完整性保护的密钥是从Ks派生的。基于此的对称密钥安全体系结构会导致通信终端(UE)在NAS附加密码握手(NAS Attach Cryptographic Handshake)之前无法验证交换的任何信息的真实性和有效性。这一点，也被广泛认为是造成大多数已知LTE协议漏洞利用的根本原因。在5G安全体系结构中，有效应对了这一预认证消息的挑战，并使得IMSI捕获器在5G通信环境中失效。通过引入运营商公钥和证书的概念，5G系统基于5G PKI架构的保护，提供了终端用户和移动运营商建立根信任的工具。借助烧录到SIM卡中的公钥和证书，运营商可以使用他们的密钥来生成和签署消息，并且这些消息可以被UE验证。此外，5G UE能对其自身进行识别，而无需完全公开SUPI。这种新的安全框架和体系结构被认为是保护新兴5G移动网络的基础。但是，我们对其安全体系结构进行了更深入的分析，随后发现了仍需解决的一些安全漏洞。下面的表格中列出了一些5G的安全挑战，以及其根本原因和造成的影响。包括LTE在内的任何通信协议，无论其安全体系有多强大，无论加密算法的复杂程度有多高，但只要存在一个边缘情况或不安全功能，整个系统的安全性都会瞬间瓦解。例如，在LTE中，IMSI应该仅在移动电话第一次开机时才会发送，但是存在这样的情况：网络可以通过预认证消息，请求UE使用IMSI识别其自身。只有在全球范围内都保证5G规范的合规，5G的安全基础架构才具有可靠保障。这要求运营商必须在每一张SIM卡中内置所有国家中全部运营商的公钥或证书。然而，更有可能的是，一些运营商不会实施全部5G安全功能，或者根据3GPP TR 33.899的要求严格执行，不实施其范围之外的要求。此外，预计还有一些国家会禁用某些特定国家或运营商的证书，目前已经有这样实践的案例。综上所述，全球采用并严格实施5G安全功能和实现的可能性极小。由于SIM卡不会保存所有移动运营商和国家的公钥或证书，因此UE和运营商有两个选择：一是明确阻止不存在相应信息的运营商，同时也要处理由此产生的公关和舆论影响;二是允许这种边缘情况存在，同时也就意味着对整体的安全性产生了一定影响。而5G安全规范采用的是后者，明确规定：如果没有为用户的USIM提供服务网络，那么用户身份将不受傲虎。值得注意的是，这也就意味着，在5G中仍有可能捕获到IMSI或SUPI。此外，除了是否能有效实施PKI之外，研究人员已经发现了5G所定义的加密操作中的一个漏洞。研究人员使用验证工具来分析5G AKA算法，最终证明该协议未能满足要求中明确的若干安全目标。该研究还表明，5G协议缺乏其他一些关键的安全属性。这些发现都给5G带来了压力。与LTE的情况不同，大多数安全研究过程中发现的协议缺陷都是在协议被定义、实施、全球范围内部署之后才发现的，而此次5G的漏洞则是在规范编写期间发现的漏洞，并且许多安全研究社区仍然在致力于漏洞的寻找。五、LTE协议漏洞利用对5G的影响LTE安全架构旨在应对前几代规范中存在的问题。第一代移动网络(1G)缺乏对加密的支持，这是引入2G数字移动通信的主要原因之一。旧版2G网络不支持相互身份验证，并且使用了过时的加密算法。如今，随着基站和UE协议栈的开源，越来越多研究人员可以比以前更轻松地发现移动通信系统漏洞。LTE使用了更强的加密算法，并加入了UE与eNodeB之间的显式相互认证，从而实现特定功能，以保证移动网络和消息的机密性和不可抵赖性。这使得4G LTE与前几代相比更加安全。然而，LTE中也存在漏洞，并且该漏洞已经存在了一段时间，尽管直到近期才被公开讨论。由于该标准具有开放性，同时也有很多SDR软件库可以被研究人员使用，所以产生了许多出色的LTE安全性分析成果。尽管LTE的加密算法和相互认证更为强大，但UE和基站会交换大量的预认证信息，这些消息可被利用来发起拒绝服务(DoS)攻击、捕获IMSI或将连接降级到不安全的GSM链路。此外，研究人员还发现了LTE中新的隐私泄露和位置泄露问题。下表中总结了过去几年中确认的一些主要LTE协议漏洞，并分析这些漏洞会如何影响5G网络。大多数LTE协议的安全漏洞，是由3GPPP的安全工作组进行研究和分析。作为该研究的成果，5G移动网络的具体安全目标是：解决IMSI捕获问题、预认证消息漏洞和位置泄露漏洞。但5G移动网络中没有考虑利用无线网络临时标识符(RNTI)的设备和用户跟踪，因为RNTI理论上是用于防止隐私泄露的临时ID。然而，最近的研究表明，通过RNTI可以对用户进行跟踪。在LTE协议规范中，还发现了存在漏洞的边缘情况，尽管这种情况很少出现，但仍然受到协议的支持。举例来说，尽管UE不太可能使用其IMSI作为标识符来发送附加请求信息，但协议描述了发生这种情况的特定场景。例如，当EPC丢失了UE的TMSI时，在网络从错误中恢复的过程中，网络就可以触发移动设备，使其能够以明确的IMSI重新发送附加请求消息。简而言之，大多数常用的LTE协议漏洞利用都是由于支持不安全边缘情况的协议，并且在建立安全连接之前对UE默认信任而产生的。同样，正如本文所分析的，5G规范根据前几代中存在的挑战，定义了新的安全功能。尽管这些安全功能非常复杂，并且能够抵御攻击者，但5G协议中依然包含许多支持的边缘情况，在这些情况下可以绕过所有安全功能。如第四章中所述，只要有一个运营商或国家不遵守规范，那么全世界范围内的5G UE都有可能遭受到欺骗攻击，从而进入到不安全的通信模式。5G的安全规范忽略了一些大多数安全功能都实现的细节。例如，如何对用户USIM中运营商公钥进行管理，这一点就不在规范的范围之内。同样，证书的结构、是否对密钥进行旋转以及如何旋转，这些也没有包含在规范内。此外，由于5G支持零加密和零完整性保护，导致进入到不安全的通信模式，攻击者可以像LTE那样对其进行漏洞利用。六、总结随着通信技术的不断发展，如今即将步入5G时代，无线通信安全也显得至关重要。最常用的语音通话、大量的即时数据传输和控制通信系统，这些都对用户数据的完整性和隐私性有比较严格的要求。此外的一些应用，例如战术通信、第一响应自组织网络和执行关键任务的物联网，同样有较高安全性的需求。本文对近期发布的5G规范进行了深入分析，并强调了在规范中存在不能实际落地的要求，从而会导致一些不安全的边缘情况。尽管其目标是解决LTE网络已知的安全漏洞，但实际上5G规范仍然可能受到相同类型的对抗性攻击。最重要的一点，是要保证5G标准不支持不安全的边缘情况。特别是，在任何情况下都不应该允许零认证、零加密、降级攻击和IMSI/SUPI捕获。安全机制如果想要取得成功，不能依赖于不可实际落地的要求，也不能允许可选的实现。尽管5G安全架构已经在防止隐私泄露这一方面取得了重大飞跃，但仍需要安全研究人员和开发人员来解决移动通信系统的已知漏洞和新发现漏洞。标准化机构、研究人员、监管机构、通信行业需要共同努力，以实现未来移动通信与控制系统的安全设计、安全开发和安全部署。]]></content>
      <categories>
        <category>5G</category>
      </categories>
      <tags>
        <tag>5G安全</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[树莓派Raspberry Pi 3搭建PLEX多媒体服务器]]></title>
    <url>%2F2018%2F12%2F13%2F%E6%A0%91%E8%8E%93%E6%B4%BERaspberry%20Pi%203%E6%90%AD%E5%BB%BAPLEX%E5%A4%9A%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8%2F</url>
    <content type="text"><![CDATA[先看效果图支持账户远程访问和本地访问，断电重启自动恢复功能。教程一、在树莓派下安装PLEX媒体服务器1.在终端，将你的树莓派更新至最新123sudo apt updatesudo apt upgradesudo apt dist-upgrade2.重启树莓派1sudo reboot3.添加https存储库的功能，如果你已安装了，系统会报告“现在的版本已经是最新版”1sudo apt install apt-transport-https4.添加Plex Media Server存储库1echo "deb https://dev2day.de/pms/ jessie main" | sudo tee /etc/apt/sources.list.d/pms.list5.为存储库添加GPG密钥1234cd /tmpwget https://dev2day.de/pms/dev2day-pms.gpg.key ls （#查看是否已经下载好dev2day-pms.gpg.key文件）sudo apt-key add dev2day-pms.gpg.key6.回到根目录1cd7.更新源1sudo apt update8.安装Plex媒体服务器1sudo apt install plexmediaserver-installer注意：如果无法找到安装包，请重启树莓派，并执行update命令9.创建默认配置文件，以便Plex知道要在哪个用户下操作1sudo nano /etc/default/plexmediaserver.prev将里面的的1PLEX_MEDIA_SERVER_USER=plex修改为1PLEX_MEDIA_SERVER_USER=pi10.重启PLEX服务,看到如下界面说明已经安装成功12systemctl restart plexmediaserversystemctl status plexmediaserver11.重启树莓派(可选)1sudo reboot二、安装USB外挂硬盘，实现电影资源存放1.检查插入的USB硬盘已安装到哪里1sudo cat /proc/mounts2.安装NTFS驱动器1sudo apt-get install ntfs-3g3.查询已插入硬盘的UUID1ls -l /dev/disk/by-uuid4.现在我们创建一个新的目录来挂载USB1sudo mkdir /media/usb15.接下来我们查询硬盘的UID和GID12id -g piid -u pi6.我们需要对fstab文件进行编辑。这是启动时调用的文件，用于设置驱动器1sudo nano /etc/fstab7.将以下代码的UUID、UID和GID更改为你查询到的填入1UUID=你的UUID /media/usb1 auto nofail,uid=输入你的UID,gid=输入你的UID,noatime 0 08.卸载之前挂载好的USB硬盘1sudo umount /dev/sda19.重新挂载USB硬盘1sudo mount -a10.重启树莓派，完成全部安装1sudo reb参考：https://www.vediotalk.com/?p=215]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Raspberry Pi</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5G核心网架构基础概念]]></title>
    <url>%2F2018%2F12%2F12%2F5G%E6%A0%B8%E5%BF%83%E7%BD%91%E6%9E%B6%E6%9E%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[5G无线接入网络架构，主要包括 5G 接入网和 5G 核心网，其中 NG-RAN 代表 5G 接入网，5GC 代表 5G 核心网。5G核心网主要包括哪些呢?先说一下关键的 AMF，SMF，UPF。AMF：全称 Access and Mobility Management Function，接入和移动管理功能，终端接入权限和切换等由它来负责。SMF：全称 Session Management Function，会话管理功能，提供服务连续性，服务的不间断用户体验，包括IP地址和/或锚点变化的情况。UPF：全称 User Plane Function，用户面管理功能，与UPF关联的PDU会话可以由(R)AN节点通过(R)AN和UPF之间的N3接口服务的区域，而无需在其间添加新的UPF或移除/重新 - 分配UPF。我们看一下5G的系统构架图：5G的系统构架图AMF，SMF，UPF 处于主体的作用。参考点表示中的非漫游 5G 系统体系结构接入和移动管理功能(AMF)承载以下主要功能：接入和移动管理功能(AMF)包括以下功能。 在AMF的单个实例中可以支持部分或全部AMF功能：终止RAN CP接口(N2)。终止NAS(N1)，NAS加密和完整性保护。注册管理。连接管理。可达性管理。流动性管理。合法拦截(适用于AMF事件和LI系统的接口)。为UE和SMF之间的SM消息提供传输。用于路由SM消息的透明代理。接入身份验证。接入授权。在UE和SMSF之间提供SMS消息的传输。安全锚功能(SEAF)。监管服务的定位服务管理。为UE和LMF之间以及RAN和LMF之间的位置服务消息提供传输。用于与EPS互通的EPS 承载 ID分配。UE移动事件通知。无论网络功能的数量如何，UE和CN之间的每个接入网络只有一个NAS接口实例，终止于至少实现NAS安全性和移动性管理的网络功能之一。除了上述AMF的功能之外，AMF还可以包括以下功能以支持非3GPP 接入网络：支持N2接口与N3IWF。 在该接口上，可以不应用通过3GPP 接入定义的一些信息(例如，3GPP 小区标识)和过程(例如，与切换相关)，并且可以应用不适用于3GPP接入的非3GPP 接入特定信息。通过N3IWF上的UE支持NAS信令。 由3GPP 接入上的NAS信令支持的一些过程可能不适用于不可信的非3GPP(例如寻呼)接入。支持通过N3IWF连接的UE的认证。管理通过非3GPP 接入连接或通过3GPP和非3GPP同时连接的UE的移动性，认证和单独的安全上下文状态。支持协调的RM管理上下文，该上下文对3GPP和非3GPP访问有效。支持针对UE的专用CM管理上下文，用于通过非3GPP 接入进行连接。注意：并非所有功能都需要在网络片的实例中得到支持。会话管理功能(UPF)承载以下主要功能用户平面功能(UPF)包括以下功能。 在UPF的单个实例中可以支持部分或全部UPF功能：用于RAT内/ RAT间移动性的锚点(适用时)。外部PDU与数据网络互连的会话点。分组路由和转发(例如，支持上行链路分类器以将业务流路由到数据网络的实例，支持分支点以支持多宿主PDU会话)。数据包检查(例如，基于服务数据流模板的应用程序检测以及从SMF接收的可选PFD)。用户平面部分策略规则实施，例如门控，重定向，流量转向)。合法拦截(UP收集)。流量使用报告。用户平面的QoS处理，例如UL / DL速率实施，DL中的反射QoS标记。上行链路流量验证(SDF到QoS流量映射)。上行链路和下行链路中的传输级分组标记。下行数据包缓冲和下行数据通知触发。将一个或多个“结束标记”发送和转发到源NG-RAN节点。ARP代理和/或以太网PDU的IPv6 Neighbor Solicitation Proxying。 UPF通过提供与请求中发送的IP地址相对应的MAC地址来响应ARP和/或IPv6邻居请求请求。会话管理功能(SMF)承载以下主要功能会话管理功能(SMF)包括以下功能。 在SMF的单个实例中可以支持部分或全部SMF功能：会话管理，例如会话建立，修改和释放，包括UPF和AN节点之间的隧道维护。UE IP地址分配和管理(包括可选的授权)。DHCPv4(服务器和客户端)和DHCPv6(服务器和客户端)功能。ARP代理和/或以太网PDU的IPv6 Neighbor Solicitation Proxying。 SMF通过提供与请求中发送的IP地址相对应的MAC地址来响应ARP和/或IPv6邻居请求请求。选择和控制UP功能，包括控制UPF代理ARP或IPv6邻居发现，或将所有ARP / IPv6邻居请求流量转发到SMF，用于以太网PDU会话。配置UPF的流量控制，将流量路由到正确的目的地。终止接口到策略控制功能。合法拦截(用于SM事件和LI系统的接口)。收费数据收集和支持计费接口。控制和协调UPF的收费数据收集。终止SM消息的SM部分。下行数据通知。AN特定SM信息的发起者，通过AMF通过N2发送到AN。确定会话的SSC模式。漫游功能：处理本地实施以应用QoS SLA(VPLMN)。计费数据收集和计费接口(VPLMN)。合法拦截(在SM事件的VPLMN和LI系统的接口)。支持与外部DN的交互，以便通过外部DN传输PDU会话授权/认证的信令。]]></content>
      <categories>
        <category>5G</category>
      </categories>
      <tags>
        <tag>5G核心网</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[5G核心网将采用SBA架构]]></title>
    <url>%2F2018%2F12%2F12%2F5G%E6%A0%B8%E5%BF%83%E7%BD%91%E5%B0%86%E9%87%87%E7%94%A8SBA%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[SBA架构(Service-based architecture 基于服务的网络架构)作为统一基础架构终于迎来了一个确定的消息，在杭州结束的国际移动通信标准组织3GPP专业会议上，3GPP正式确认5G核心网采用中国移动牵头并联合26家公司提出的SBA架构(Service-based architecture 基于服务的网络架构)作为统一基础架构。据了解，该架构由中国移动牵头联合全球14家运营商及华为等12家网络设备商联合提出。近半年来，5G标准化项目一直在讨论5G网络是不是该采用SBA新型架构。此次，3GPP将SBA确定为5G网络唯一基础架构，是5G系统架构标准化立项以来的重要进展。据悉，SBA采用“服务”来设计移动通的网元及主要功能，以“服务调用”取代传统的信令交流。这种设计有助于网络快速升级、提升资源利用率、加速新能力引入、便于网内和网外的能力开放，使得5G系统从架构上全面云化，利用快速扩缩容。而其实早在2016年11月在美国里诺举行的3GPP SA2#118次会议，在，3GPP决定正式启动5G系统设计，并确认中国移动牵头5G系统架构标准项目。那时在中国IMT-2020推进组、中国移动、AT&amp;T、德电等运营商及华为、诺基亚、中兴、爱立信等厂商的积极推动下,来自全球的通信运营商、设备商已经对5G系统总体架构形成共识，要将“基于服务”的模块化设计将成为5G系统架构的主要特征。改变传统基于“请求—应答”的网络流程，5G系统架构将基于“微服务”的设计理念。基于服务的网络架构借鉴IT领域的“微服务”设计理念，将网络功能定义为多个相对独立可被灵活调用的服务模块。基于此，运营商可以按照业务需求进行灵活定制组网，使得5G网络真正面向云化(Cloud Native)设计，具备多方面优点，如便于网络快速升级、提升网络资源利用率、加速网络新能力引入，以及在授权的情况下开放给第三方等。决定5G网络整体形态5G系统架构标准项目的名称为R15“5G System Architecture”，简称5GS，是整个5G设计的第一个技术标准，也是事关5G全系统设计的基础性标准。5GS项目唯一报告人、中国移动研究院网络技术研究所孙韬博士也曾向媒体公开表示，5G整体系统的设计包括顶层设计、无线网设计、核心网设计等方面，5G系统架构标准项目主要是进行顶层设计和核心网设计，而架构和核心网的设计对5G网络管理运营至关重要，对运营商及整个产业链来说也有非常重要的意义。同时，项目将对5G系统架构、功能、接口关系、流程、漫游、与现有网络共存关系等进行标准化。也是从系统设计和端到端角度对5G进行定义和规范，基本确定了5G网络的面貌、组网形态。据悉， 5GS项目预计会在今年12月前，制定《5G系统总体架构及功能》及《5G系统基本流程》两个基础性标准。孙滔表示，这两个规范是5G系统架构（5GS）项目拟输出的正式标准，是定义和形成5G网络系统的基础性标准，决定了5G网络架构的整体形态。这两个标准也为5G相关的技术标准，如网管、协议实现、安全等提供参考和依据。《5G系统总体架构及功能》主要定义5G系统总体架构、主要功能、逻辑关系和接口、漫游架构、与现存共存关系等。《5G系统基本流程》将定义端到端的网络流程、涉及终端和网络互通、不同网络功能间的交互等。这两份规范是5G运营商组网、厂家设备研制、互通互联的基本依据，是后续5G技术进一步完善和增强的基础。他认为这两份规范是5G运营商组网、厂家设备研制、互通互联的基本依据，是后续5G技术进一步完善和增强的基础。面向服务化——形神兼备在孙滔看来，5G网络的架构是一个具有长远影响力和创新性的新架构，如“面向服务化”，很多控制面相关的业务逻辑将以“服务”来定义，使得网络功能的配置更加灵活、开放；“面向网络切片”，可以同时形成不同特性的相对独立的网络能力；“接入无关性”，5G从设计的一开始就考虑统一的网络架构，同时考虑对5G接入及非蜂窝网接入的支持。中国移动研究院网络所所长段晓东也曾在公开演讲中表示，中国移动对5G基本架构已有初步共识，就是要支持多种接入、降低不同接入方式和核心网的耦合、实现按需的组网、借力NFV/SDN技术。他表示，5G网络化已经到了关键时期，中国移动代表IMT-2020(5G推进组)提出5G网络架构三大设计原则。首先是从刚性到软性，就是从固定网络(网元、固定连接、固定部署)到动态网络(动态部署、配置、灵活连接)，网络资源虚拟化、网络功能的解耦和服务化。其次是移动网络IP化、互联网化，就是实现与IT网络互通融合，引入互联网技术，优化网络设计。最后是集中化智能和分布化处理，集中化智能-功能集中优化，为垂直行业提供个性化增值服务，并分布化处理-移动网络功能靠近用户，提高网络吞吐量，降低时延。以SDN/NFV技术实现网络云化，加上微服务设计，这意味着5G网络真正走向开放化、服务化、软件化方向，有利于实现5G与垂直行业融合发展。某知名行业自媒体评论，5G网络以NFV/SDN这个“形”作为平台基础，加上服务化的“神”实现5G能力，将真正“形神兼备”]]></content>
      <categories>
        <category>5G</category>
      </categories>
      <tags>
        <tag>5G核心网</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac最好的系统监控工具-iStat Menus 6最新下载地址及注册码]]></title>
    <url>%2F2018%2F12%2F12%2FMac%E6%9C%80%E5%A5%BD%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7-iStat%20Menus%206%E6%9C%80%E6%96%B0%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%E5%8F%8A%E6%B3%A8%E5%86%8C%E7%A0%81%2F</url>
    <content type="text"><![CDATA[一、Mac最好的系统状态监控工具 : iStat Menus 6 简介这是Mac平台最好的系统状态监控工具，主要是监控系统运行状态的，功能很强大，装机必备。这款软件让您可以从菜单栏中监控您的系统，包括8个额外的菜单，让您监视您的系统的每个方面。二、Mac最好的系统状态监控工具 : iStat Menus 6 截图三、Mac最好的系统状态监控工具 : iStat Menus 6 下载与注册方法使用下面链接下载最新版本最新版本安装完成后输入下面邮箱和激活码进行激活123# 注册码: Email: 982092332@qq.com SN: GAWAE-FCWQ3-P8NYB-C7GF7-NEDRT-Q5DTB-MFZG6-6NEQC-CRMUD-8MZ2K-66SRB-SU8EW-EDLZ9-TGH3S-8SGA]]></content>
      <categories>
        <category>Mac</category>
      </categories>
      <tags>
        <tag>Software</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos7服务器安装Anaconda]]></title>
    <url>%2F2018%2F12%2F08%2FCentos7%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85Anaconda%2F</url>
    <content type="text"><![CDATA[Anaconda3下载从Anaconda官网下载linux版本：https://www.anaconda.com/download/#linuxAnaconda3安装将下载好的文件Anaconda3-5.0.1-Linux-x86_64.sh执行如下命令：1# bash Anaconda3-5.0.1-Linux-x86_64.sh安装过程中修改Anaconda3的安装路径为/opt/modules/anaconda3:12345678910111213Do you accept the license terms? [yes|no]Please answer 'yes' or 'no':'&gt;&gt;&gt; yes Anaconda3 will now be installed into this location:/root/anaconda3 - Press ENTER to confirm the location - Press CTRL-C to abort the installation - Or specify a different location below[/root/anaconda3] &gt;&gt;&gt; /opt/modules/anaconda3PREFIX=/opt/modules/anaconda3等待安装完成提示信息，询问是否要将Anaconda3添加到PATH环境变量中，直接回车(选择no):12345678910installation finished.Do you wish the installer to prepend the Anaconda3 install locationto PATH in your /root/.bashrc ? [yes|no][no] &gt;&gt;&gt; You may wish to edit your .bashrc to prepend the Anaconda3 install location to PATH:export PATH=/opt/modules/anaconda3/bin:$PATHThank you for installing Anaconda3!手动将export PATH=/opt/modules/anaconda3/bin:$PATH添加到/etc/profile中, 最后source /etc/profile使环境变量生效:1# source /etc/profileTensorflow安装建立Tensorflow运行环境Tensorflow目前Python3版本最高支持到Python3.5，所以选择Python 3.5, 只需要执行conda create -n tensorflow python=3.5指令:12345678## Python 2.7# conda create -n tensorflow python=2.7 ## Python 3.5 # conda create -n tensorflow python=3.5 ## Python 3.6 # conda create -n tensorflow python=3.6在Anaconda3中创建Tensorflow虚拟环境:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748Fetching package metadata ...........Solving package specifications: .Package plan for installation in environment /opt/modules/anaconda3/envs/tensorflow:The following NEW packages will be INSTALLED: ca-certificates: 2017.08.26-h1d4fec5_0 certifi: 2017.11.5-py35h9749603_0 libedit: 3.1-heed3624_0 libffi: 3.2.1-hd88cf55_4 libgcc-ng: 7.2.0-h7cc24e2_2 libstdcxx-ng: 7.2.0-h7a57d05_2 ncurses: 6.0-h9df7e31_2 openssl: 1.0.2m-h26d622b_1 pip: 9.0.1-py35h7e7da9d_4 python: 3.5.4-h417fded_24 readline: 7.0-ha6073c6_4 setuptools: 36.5.0-py35ha8c1747_0 sqlite: 3.20.1-hb898158_2 tk: 8.6.7-hc745277_3 wheel: 0.30.0-py35hd3883cf_1 xz: 5.2.3-h55aa19d_2 zlib: 1.2.11-ha838bed_2 Proceed ([y]/n)? libffi-3.2.1-h 100% |##################################################################| Time: 0:00:00 137.60 kB/sncurses-6.0-h9 100% |##################################################################| Time: 0:00:01 622.10 kB/sopenssl-1.0.2m 100% |##################################################################| Time: 0:00:03 1.06 MB/stk-8.6.7-hc745 100% |##################################################################| Time: 0:00:02 1.13 MB/sxz-5.2.3-h55aa 100% |##################################################################| Time: 0:00:00 1.28 MB/szlib-1.2.11-ha 100% |##################################################################| Time: 0:00:00 1.59 MB/sreadline-7.0-h 100% |##################################################################| Time: 0:00:00 1.27 MB/ssqlite-3.20.1- 100% |##################################################################| Time: 0:00:01 1.41 MB/spython-3.5.4-h 100% |##################################################################| Time: 0:00:07 3.87 MB/scertifi-2017.1 100% |##################################################################| Time: 0:00:00 6.01 MB/ssetuptools-36. 100% |##################################################################| Time: 0:00:00 6.55 MB/swheel-0.30.0-p 100% |##################################################################| Time: 0:00:00 6.82 MB/spip-9.0.1-py35 100% |##################################################################| Time: 0:00:00 6.78 MB/s## To activate this environment, use:# &gt; source activate tensorflow## To deactivate an active environment, use:# &gt; source deactivate#为了简便也可以直接指定版本python=3.5, 且克隆anaconda所有的Python包:1conda create -n tensorflow python=3.5 anacondaconda环境管理列出所有的环境1conda info --envs创建一个指定Python版本且包含anaconda所有Python包的新环境1# conda create -n py36 python=3.6 anaconda克隆一个环境创建一个和root环境一样的副本:1conda create -n py36 --clone root删除一个环境1# conda remove -n py36 --all在conda环境下安装tensorflow（pip安装方式）激活conda环境(tensorflow)1# source activate tensorflow根据tensorflow的版本设置环境变量（以CPU版本为例）Tensorflow的源码地址: https://github.com/tensorflow/tensorflow，如下三种环境Python2.7, Python3.4, Python3.5，选择一种(Python3.5)运行:123456## Linux 64-bit, CPU only, Python 2.7 (tensorflow)$ export TF_BINARY_URL=https://ci.tensorflow.org/view/tf-nightly/job/tf-nightly-linux/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON2,label=cpu-slave/lastSuccessfulBuild/artifact/pip_test/whl/tf_nightly-1.head-cp27-none-linux_x86_64.whl ## Linux 64-bit, CPU only, Python 3.4 (tensorflow)$ export TF_BINARY_URL=https://ci.tensorflow.org/view/tf-nightly/job/tf-nightly-linux/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3,label=cpu-slave/lastSuccessfulBuild/artifact/pip_test/whl/tf_nightly-1.head-cp34-cp34m-linux_x86_64.whl## Linux 64-bit, CPU only, Python 3.5 (tensorflow)$ export TF_BINARY_URL=https://ci.tensorflow.org/view/tf-nightly/job/tf-nightly-linux/TF_BUILD_IS_OPT=OPT,TF_BUILD_IS_PIP=PIP,TF_BUILD_PYTHON_VERSION=PYTHON3.5,label=cpu-slave/lastSuccessfulBuild/artifact/pip_test/whl/tf_nightly-1.head-cp35-cp35m-linux_x86_64.whl使用pip命令安装tensorflow选择一种安装环境(Python 3):12345## Python 2 (tensorflow)# pip install --ignore-installed --upgrade $TF_BINARY_URL ## Python 3 (tensorflow)# pip install --ignore-installed --upgrade $TF_BINARY_URL使用conda命令安装tensorflowUsing conda参照如下网址:A community maintained conda package is available from conda-forge.https://github.com/conda-forge/tensorflow-feedstockOnly the CPU version of TensorFlow is available at the moment and can be installed in the conda environment for Python 2 or Python 3.12$ source activate tensorflow (tensorflow)#Linux/Mac OS X, Python 2.7/3.4/3.5, CPU only:1(tensorflow)# conda install -c conda-forge tensorflow参考资料【1】https://blog.csdn.net/liuguangrong/article/details/78737419]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>Centos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos更新源yum问题解决方法]]></title>
    <url>%2F2018%2F12%2F06%2FCentos%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85yum%E7%9A%84base-repo%E6%BA%90%2F</url>
    <content type="text"><![CDATA[好久不更新自己的服务器或者误删除了更新源，偶然返现自己的Centos的系统yum源出现问题了，如何才能修复？方式一：使用国内的阿里云镜像（1）把/etc/yum.repos.d/下面所有的源给删除掉了（2）选择自己系统合适的镜像下载123456# CentOS 5wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo# CentOS 6wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo# CentOS 7wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo注意如果没有安装wget，可以从下面的网址中先手动下载，然后上传到linux上安装：http://www.rpmfind.net/linux/rpm2html/search.php?query=wget（3）执行命令，重新生成cache12yum clean allyum makecache方式二：使用官网的镜像（1）把/etc/yum.repos.d/下面所有的源给删除掉了（2）执行下面的命令，重新生成镜像12//执行这个命令之后rpm -Uvh --force http://mirror.centos.org/centos-7/7/os/x86_64/Packages/centos-release-7-4.1708.el7.centos.x86_64.rpm（3）查看/etc/yum.repos.d/下面目录，就会发现镜像已经安装完毕：1234567-rw-r--r--. 1 root root 1664 8月 30 23:53 CentOS-Base.repo-rw-r--r--. 1 root root 1309 8月 30 23:53 CentOS-CR.repo-rw-r--r--. 1 root root 649 8月 30 23:53 CentOS-Debuginfo.repo-rw-r--r--. 1 root root 314 8月 30 23:53 CentOS-fasttrack.repo-rw-r--r--. 1 root root 630 8月 30 23:53 CentOS-Media.repo-rw-r--r--. 1 root root 1331 8月 30 23:53 CentOS-Sources.repo-rw-r--r--. 1 root root 3830 8月 30 23:53 CentOS-Vault.repo（4）生成缓存12yum clean allyum makecache必要时可以执行yum update更新当前系统的安装包为新的手动下载命令，例子:12345#安装vim组件yum install -y vim #卸载vim组件yum remove vim推荐使用方式一。]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>Centos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MAC在同一程序切换窗口]]></title>
    <url>%2F2018%2F12%2F05%2FMAC%E5%9C%A8%E5%90%8C%E4%B8%80%E7%A8%8B%E5%BA%8F%E5%88%87%E6%8D%A2%E7%AA%97%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[在MAC下切换窗口是command+tab键，这个是多程序之间切换。那么在同一程序下，比如多个独立浏览器之间或者word之间切换呢？同一程序切换窗口：command + ~组合按键，在同时按住数字区域第一个键。多个浏览器窗口之间切换多个Word之间切换不同程序之间切换：command + tab键进行切换]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[基于人工智能的树莓派人脸识别系统(Intelligent Facial Recognition System)]]></title>
    <url>%2F2018%2F12%2F02%2F%E5%9F%BA%E4%BA%8E%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E7%B3%BB%E7%BB%9F(Intelligent%20Facial%20Recognition%20System)%2F</url>
    <content type="text"><![CDATA[This is a project of the face recognizer with Movidius on RaspberryPi 3B+ platform. The project also uses Django and Django REST framework which providing the web platform. The project would like to build a safety and intelligent face recognition system in AI era.If you appreciate the content 📖, support projects visibility, give 👍| ⭐| 👏GitHub: https://github.com/nature1995/Face_Recognition_SystemCompatibilityThe code is tested using Tensorflow r1.7 and Movidius NCSDK2 under Debin 2018-06-27（Kernel version:4.14） with django 2.1.1 and Python 3.5.Real Product ImagesRequirementsLogitech HD Webcam C270Micro SD Card 32GRaspberry Pi 3 B+Intel Movidius Neural Compute StickThe code requires Python 3.5, Tensorflow 1.7, as well as the following python libraries:Pillowdjangodjango-allauth 0.37.1django-widget-tweaks 1.4.3pip 18.0qrcode 6.0setuptools 40.4.3Those modules can be installed using: pip3 install xxx.Neural Compute Application ZooThis repository is a place for any interested developers to share their projects (code and Neural Network content) that make use of the Intel® Movidius™ Neural Compute Stick (Intel® Movidius™ NCS) and associated Intel® Movidius™ Neural Compute Software Development Kit.You can use the following url(NC App Zoo) or git command to use the ncsdk2 branch of the NC App Zoo repo:1git clone -b ncsdk2 https://github.com/movidius/ncappzoo.gitInstall Django and Django REST framework1234567891011121314pip3 -Vsudo pip3 install -U setuptoolssudo pip3 install -U djangosudo pip3 install -U djangorestframeworksudo pip3 install -U django-filtersudo pip3 install -U markdownsudo pip3 install -U requestsInstall Adafruit_Python_DHT library123456789git clone https://github.com/adafruit/Adafruit_Python_DHT.gitcd Adafruit_Python_DHTsudo python3 setup.py installcdInstall Adafruit_Python_BMP library1234567git clone https://github.com/adafruit/Adafruit_Python_BMP.gitcd Adafruit_Python_BMPsudo python3 setup.py installcdInstall psutil (process and system utilities)1sudo pip3 install psutilrpi-mjpg-streamerInstructions and helper scripts for running mjpg-streamer on Raspberry Pi.A. Setup mjpg-streamerEnable Raspberry Pi Camera module from raspi-config1$ sudo raspi-configInstall necessary packages for mjpg-streamer12$ sudo apt-get update$ sudo apt-get install build-essential libjpeg8-dev imagemagick libv4l-dev git cmake uvcdynctrlBuild mjpg-streamer12345$ sudo ln -s /usr/include/linux/videodev2.h /usr/include/linux/videodev.h$ git clone https://github.com/jacksonliam/mjpg-streamer$ cd mjpg-streamer/mjpg-streamer-experimental$ cmake -DCMAKE_INSTALL_PREFIX:PATH=.. .$ make installSetup video4linux for Raspberry Pi Camera module12345678910$ sudo modprobe bcm2835-v4l2$ sudo vi /etc/modules# add following line:bcm2835-v4l2$ sudo vi /boot/config.txt# add following line if you want to disable RPi camera's LED:disable_camera_led=1Add yourself to the video group1$ sudo usermod -a -G video $USERB. Run mjpg-streamer1. Clone this repository1$ git clone https://github.com/meinside/rpi-mjpg-streamer.git2-a. Run mjpg-streamer from the shell directly123456# copy &amp; edit run-mjpg-streamer.sh to your environment or needs$ cp rpi-mjpg-streamer/run-mjpg-streamer.sh.sample somewhere/run-mjpg-streamer.sh$ vi somewhere/run-mjpg-streamer.sh# then run$ somewhere/run-mjpg-streamer.sh2-b. Or run mjpg-streamer as a servicesystemd12345678910111213# copy &amp; edit systemd/mjpg-streamer.service file,$ sudo cp rpi-mjpg-streamer/systemd/mjpg-streamer.service.sample /lib/systemd/system/mjpg-streamer.service$ sudo vi /lib/systemd/system/mjpg-streamer.service# then register as a service$ sudo systemctl enable mjpg-streamer.service# or remove it$ sudo systemctl disable mjpg-streamer.service# and start/stop it$ sudo systemctl start mjpg-streamer.service$ sudo systemctl stop mjpg-streamer.serviceC. ConnectConnect through the web browser:Most modern browsers(including mobile browsers like Safari and Chrome) will show the live stream immediately.NoticeVirtualenvpip3 install virtualenvRun Virtualenvsource venv/bin/activatesqlite3 数据库文件db.sqlite3 权限 666chmod 666 db.sqlite3django 所在文件夹 权限 775chmod 777 xxxCitationJust can be used for non-business projects.]]></content>
      <categories>
        <category>源码</category>
        <category>GitHub</category>
      </categories>
      <tags>
        <tag>Raspberry Pi</tag>
        <tag>Hardware</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Django博客开发：通过django-allauth实现第三方账号登录教程]]></title>
    <url>%2F2018%2F12%2F02%2FDjango%E5%8D%9A%E5%AE%A2%E5%BC%80%E5%8F%91%EF%BC%9A%E9%80%9A%E8%BF%87django-allauth%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E6%96%B9%E8%B4%A6%E5%8F%B7%E7%99%BB%E5%BD%95%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[因为需要加入博客的用户登录、注册系统，为了让网站支持第三方登录，所以只用使用django-allauth，根据其官方文档这里：https://django-allauth.readthedocs.io/en/latest/index.html），同时支持本地和第三方账号（Github，百度、微博、微信等等。。），集成了邮箱验证、密码修改、本地账号关联（多个）第三方账号等各种功能，真是厉害了。开发环境：python 3.6、django 2.1.3准备工作：安装1pip install django-allauthproject/settings.py设置1234567891011121314151617181920INSTALLED_APPS = [# 必须安装的app 'django.contrib.auth', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', # 下面是第三方账号相关的，比如我选了weibo和github 'allauth.socialaccount.providers.weibo', 'allauth.socialaccount.providers.github',] # django-allauth相关设置AUTHENTICATION_BACKENDS = ( # django admin所使用的用户登录与django-allauth无关 'django.contrib.auth.backends.ModelBackend', # `allauth` specific authentication methods, such as login by e-mail 'allauth.account.auth_backends.AuthenticationBackend',)# 前面我们app里添加了django.contrib.sites,需要设置SITE_IDSITE_ID = 1ACCOUNT_AUTHENTICATION_METHOD = 'username_email'ACCOUNT_EMAIL_REQUIRED = TrueACCOUNT_AUTHENTICATION_METHOD = &#39;username_email&#39;的作用是当用户登录时，既可以使用用户名也可以使用email， 其他可选的值是 “username”、“email” ，ACCOUNT_EMAIL_REQUIRED = True要求用户注册时必须填写email，默认False，email是选填的。project/urls.py 里include allauth的urls1urlpatterns = [ url(r'^accounts/', include('allauth.urls')),]设置好后，我们就可以用’accounts/login’ 访问登录页面， ‘accounts/logout’ 注销， 其他的可以去 allauth/account/urls.py查看。以上基本设置后，需要同步数据库 python manage.py migrate runserver, 访问登录页面，allauth提供的模板非常简陋， 是这样的我们可以使用自己制作的模板，在project/templates/account下创建login.html即可override allauth自带的模板，allauth自带的模板放在allauth/templates/account下， 我们只需要在项目templates/account下创建相同名字的html即可覆盖。测试下面我们去注册页面test一下，先注册一个本地账号填写完注册信息后，却出现这样一个错误出现此错误的原因，官方文档也有说明，这是因为注册账号后，系统会自动发一封邮件来激活账号，但是我们还有发送邮件相关的设置。django默认使用SMTP发送邮件，在project/settings.py如下设置：12345678910# SMTP服务器，我使用的是sendclound的服务EMAIL_HOST = 'smtp.sendcloud.net'EMAIL_HOST_USER = '用户名'EMAIL_HOST_PASSWORD = '对应的API key或者密码'EMAIL_PORT = 25# 是否使用了SSL 或者TLSEMAIL_USE_SSL = TrueEMAIL_USE_TLS = True# 默认发件人，不设置的话django默认使用的webmaster@localhostDEFAULT_FROM_EMAIL = 'Aaron-Zhao &amp;lt;noreply@aaron-zhao.com&amp;gt;完成以上设置后，注册账号是我们就可以收到邮件了，关于邮件的其他详细设置，请参照django的官方文档allauth默认的设置，当用户登录时会重定向到 /accounts/profile，这个页面allauth没有做，因为报错page not found，这个页面需要我们自己完成（请戳：django博客开发：添加用户资料页面和头像上传功能）。与此相关的参数是LOGIN_REDIRECT_URL在project/settings.py设置 LOGIN_REDIRECT_URL = ‘/‘ ，这样用户登录后的页面就会跳转到首页，而不是用户profile页面。下面我们去测试一下第三方账号登录，这里以github为例，Github OAuth注册页面：https://github.com/settings/applications/new要注意将回调地址callback URL设置为 http://127.0.0.1:8000/accounts/github/login/callback/，完成注册后 我们会获得一个Cliend ID 和 Client Secret，后面我们会用到先进入admin后台，会发现增加了social accounts和站点点开站点管理，将example.com改为我们博客的域名，在开发环境下，我们用127.0.0.1:8000点击SOCIAL ACCOUNTS下的Social application，增加一个application，如下图所示provider选Github，这里的provider就是我们在INSTALLED_APP里增加的socialaccount.provider，client id 和secret key 我们在github注册应用里获得了，将sites加入到右边 选中的sites完成以上设置后，注销，然后回到登录页面，选中github登录，授权应用即可，成功登录后，邮箱里也会收到一份激活邮件，这是因为django-allauth会自动为我们添加一个本地账号，根据你的social account用户名和email。其他相关设置project/settings.pyACCOUNT_EMAIL_VERIFICATION = &#39;optional&#39; / &#39;mandatory&#39; / &#39;none&#39; 默认值是’optional’，当其等于’mandatory’时，在email未验证之前，本地注册的用户无法登陆。’optional’ 和 ‘none’ 则不要求必须验证邮箱，两者区别是’optional’ 依然会发送验证邮件，而’none’ 则不会SOCIALACCOUNT_EMAIL_VERIFICATION = &#39;optional&#39; / &#39;mandatory&#39; / &#39;none&#39;与ACCOUNT_EMAIL_VERIFICATION 同理，作用于第三方账号的注册，默认值等于前者，LOGIN_URL = &#39;/accounts/login&#39; 当用户验证邮件里的验证链接后，如果当前没有登录的用户，则会指向LOGIN_URL]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sublime-text3-3176版本激活]]></title>
    <url>%2F2018%2F12%2F02%2FSublime-text3-3176%E7%89%88%E6%9C%AC%E6%BF%80%E6%B4%BB%2F</url>
    <content type="text"><![CDATA[步骤一：更改hosts：sudo vim /private/etc/hosts12127.0.0.1 www.sublimetext.com127.0.0.1 license.sublimehq.com步骤二：在Sublime里面Help–&gt;License里面输入下面激活码：12345678910111213----- BEGIN LICENSE -----sgbteamSingle User LicenseEA7E-11532598891CBB9 F1513E4F 1A3405C1 A865D53F115F202E 7B91AB2D 0D2A40ED 352B269B76E84F0B CD69BFC7 59F2DFEF E267328F215652A3 E88F9D8F 4C38E3BA 5B2DAAE4969624E7 DC9CD4D5 717FB40C 1B9738CF20B3C4F1 E917B5B3 87C38D9C ACCE7DD85F7EF854 86B9743C FADC04AA FB0DA5C0F913BE58 42FEA319 F954EFDD AE881E0B------ END LICENSE ------]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Software</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[蓝桥杯嵌入式与开发组——历年比赛试题与源码]]></title>
    <url>%2F2018%2F12%2F02%2F%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%B5%8C%E5%85%A5%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E7%BB%84%E2%80%94%E2%80%94%E5%8E%86%E5%B9%B4%E6%AF%94%E8%B5%9B%E8%AF%95%E9%A2%98%E4%B8%8E%E6%BA%90%E7%A0%81%2F</url>
    <content type="text"><![CDATA[蓝桥杯历年比赛试题与源码（嵌入式与开发组）If you appreciate the content 📖, support projects visibility, give 👍| ⭐| 👏Github: https://github.com/nature1995/lanqiao-competition-code第九届决赛模拟题第九届省赛模拟题第八届决赛-频率控制器的功能设计与实现第八届省赛-模拟升降控制器控制器第七届决赛-温湿度监控设备第七届省赛-模拟液位检测告警系统 第二版第六届决赛-电压测量与互补 PWM 信号输出第六届省赛-电压测量监控设备第五届省赛-双通道方波频率检测与倍频输出第四届省赛-双路输出控制器]]></content>
      <categories>
        <category>源码</category>
        <category>GitHub</category>
      </categories>
      <tags>
        <tag>Hardware</tag>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitment评论功能接入Jekyll & Hexo教程]]></title>
    <url>%2F2018%2F11%2F30%2FGitment%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD%E6%8E%A5%E5%85%A5Jekyll_Hexo%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[前言之前接入的评论功能，都因为各种原因被放弃了，今天从新计划接入评论功能，所以就在了今天这篇文章。评论模块多说 - 最多用户使用的评论，但遗憾2017年6月将暂定服务；不建议新用户使用，但为旧用户保留，也感谢多说一路的陪伴；网易云跟帖 - 网易提供的评论组件，功能比较简单，性能优秀；管理后台在查询上还不算特别智能，但足够普通用户使用；畅言 - 搜狐提供的评论组件，功能丰富，体验优异；但必须进行域名备案。只要域名备过案就可以通过审核。Disqus - 国外使用较多的评论组件。万里长城永不倒，一枝红杏出墙来，你懂的。以上评论模块应该大家都知道，多说和网易云跟帖没有了，畅言要备案，对于对于挂靠在GitHub的博客非常的不友好，放弃！Disqus，不希望自己的博客，可以不分国界！也放弃！所以，将是我们要介绍的Gitment!Gitment评论模块Gitment is a comment system based on GitHub Issues, which can be used in the frontend without any server-side implementation.Gitment 基于 GitHub Issues 的评论系统。支持在前端直接引入，不需要任何后端代码。可以在页面进行登录、查看、评论、点赞等操作，同时有完整的 Markdown / GFM 和代码高亮支持。尤为适合各种基于 GitHub Pages 的静态博客或项目页面。想了解具体示例，可以点击查看官方Demo Page：Gitment Demo具体的接入我就不在这里说了，本文末有参考链接大家可以去了解学习，主要是说一下其中的坑点。Gitment坑点小结1、owner: ‘Your GitHub ID’owner: &#39;你的 GitHub ID&#39;,可以是你的GitHub用户名，也可以是github id，建议直接用GitHub用户名就可以。2、repo: ‘The repo to store commentsrepo: &#39;存储评论的 github repo&#39;这个是你要存储评论内容的仓库名，可以与博客下的仓库，也可以新建一个仓库专门存储评论内容的。3、Error: Not Found问题owner或者repo配置错误了，注意名字和仓库名字的大小写。4、Error: Comments Not Initialized在注册OAuth Application这个步骤中，给Authorization callback URL指定的地址错了还没有在该页面的Gitment评论区登陆GitHub账号如果还是不行，可以参考另一个情况 Error: Comments Not Initialized · Issue #95 · imsun/gitment5、Error：validation failedissue的标签label有长度限制！labels的最大长度限制是50个字符。id: &#39;页面 ID&#39;, // 可选。默认为 location.href这个id的作用，就是针对一个文章有唯一的标识来判断这篇本章。在issues里面，可以发现是根据网页标题来新建issues的，然后每个issues有两个labels（标签），一个是gitment，另一个就是id。所以明白了原理后，就是因为id太长，导致初始化失败，现在就是要让id保证在50个字符内。对应配置的id为：1id: '&lt;%= page.title %&gt;'如果用网页标题也不能保证在50个字符！最后，我用文章的时间，这样长度是保证在50个字符内，完美解决！（避免了文章每次更新标题或路径时，会重新创建一个issue评论的问题。）1id: '&lt;%= page.date %&gt;'6、gitment的汉化只需到模板里将原来定义CSS和JS的那两行改成：12&lt;link rel="stylesheet" href="https://billts.site/extra_css/gitment.css"&gt;&lt;script src="https://billts.site/js/gitment.js"&gt;&lt;/script&gt;即可。来源：https://github.com/imsun/gitment/issues/1047、所有文章一键初始化评论配置正确的文章，第一次显示，提示还没有初始化：文章作者需要登陆GitHub授权后，会显示初始化按钮(注意，不要多点按钮，否则issues出现多条一样的)：点击初始化按钮后，如果正常就会出现：关于自动初始化所有文章的功能，到本文编写时，还没有一个完善的解决方法，就是用脚本来执行自动化，有需要的可以详细了解：https://github.com/imsun/gitment/issues/58、请保持克制，切勿滥用。作者提醒使用本项目的用户，请保持克制，切勿滥用。详见 Gitment：使用 GitHub Issues 搭建评论系统9、订阅issueissue订阅，有新评论时就可以通过邮件提醒，这个功能是把双刃剑，因为有些垃圾订阅邮件骚扰，大家看着用吧。总结Gitment目前来说，已经解决了一个博客简单的评论功能，点赞 / 有完整的 Markdown / GFM 和代码高亮支持!通过Gitment至少可以证明一点，生产力的发展有无限可能，环境的限制，会有的各种奇异的想法，或者奇异的东西出现，Gitment就是一个完美的证明，充分解决了一个简单博客的评论功能。另一方面，与国内的生活要求希望大家能够遵守规则，让GitHub和Gitment在我们生活中快乐成长！]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Gitment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jupyter Lab Config on Raspberry Pi]]></title>
    <url>%2F2018%2F11%2F30%2Fjupyter-lab-config-raspi%2F</url>
    <content type="text"><![CDATA[To activate this environment, use$ conda activate base $ conda activate tensorflow 树莓派： source activate tensorflowTo deactivate an active environment, use$ conda deactivate 树莓派： source deactivate tensorflowconda install jupyter notebookconda install jupyterlabjupyter notebook –ip=0.0.0.0 –no-browser –allow-rootjupyter lab –ip=0.0.0.0 –no-browser –allow-root不输出日志 jupyter lab –ip=0.0.0.0 –no-browser –allow-root &gt;/dev/null 2&gt;&amp;1 &amp;jupyter lab &gt;/dev/null 2&gt;&amp;1 &amp;]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Raspberry Pi</tag>
        <tag>Jupyter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Keras：安装graphviz和pydot后出现RuntimeError：无法导入pydot]]></title>
    <url>%2F2018%2F11%2F30%2FKeras%E5%AE%89%E8%A3%85graphviz%E5%92%8Cpydot%E5%90%8E%E5%87%BA%E7%8E%B0RuntimeError%E6%97%A0%E6%B3%95%E5%AF%BC%E5%85%A5pydot%2F</url>
    <content type="text"><![CDATA[首先Conda安装graphviz：12pip install graphviz pip install pydot其次在运行的.py文件前面加入如下内容:1import os os.environ["PATH"] += os.pathsep + 'C:\\Users\\10057491\\AppData\\Local\\Continuum\\anaconda3\\envs\\tensorflow\\Library\\bin\\graphviz']]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>Anaconda</tag>
        <tag>Keras</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Centos 配置mailx使用外部smtp发送邮件]]></title>
    <url>%2F2018%2F11%2F30%2FCentos-%E9%85%8D%E7%BD%AEmailx%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8smtp%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Centos 配置mailx使用外部smtp发送邮件安装mailx1yum install mailx配置mailx推荐163邮箱，当然，QQ邮箱也是可以的，PS：记得要进邮箱打开SMTP1vi /etc/mail.rc //如果不存在，则编辑/etc/nail.rc123456# 在文件的末尾加入下面代码，相应帐号密码填写自己的帐号密码set from="xxx@163.com"set smtp=smtp.163.comset smtp-auth-user=xxxset smtp-auth-password=邮箱密码set smtp-auth=login使用mailx发送邮件发件人名称可不添加，第二步已配置过假设邮件内容存储于mesg文件中，那么可以用如下2个方法：12mailx -s "发件人名称 邮件标题" xxx@163.com &lt; mesgcat mesg | mailx -s "发件人名称 邮件标题" xxx@163.com多个收件人之间用逗号分隔：1cat mesg | mailx -s "发件人名称 邮件标题" xxx@163.com,xxx2@163.com,xxx3@163.com也可以直接从命令行输入邮件内容：12mailx -s "发件人名称 邮件标题" xxx@163.com ##输入完后回车按Ctrl+D提交发送echo hello word | mailx -v -s " title" xxx3@163.comNOTE:记得要进邮箱打开SMTP配置好后，记住查看是否打开代理（例如翻墙VPN）,代理可能会导致Telnet不通25端口]]></content>
      <categories>
        <category>服务器</category>
      </categories>
      <tags>
        <tag>Centos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VNC和远程桌面的区别]]></title>
    <url>%2F2018%2F11%2F30%2FVNC%E5%92%8C%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E7%9A%84%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[VNC和远程桌面的区别我们可以通过VNC(Virtual Network Computing)和远程桌面来连接到远程的计算机上，但是两者是有一定的区别的。VNCVNC使用的是RFB协议来做屏幕分享和远程操作的软件，由著名的AT&amp;T欧洲研究实验室开发。使用时需要客户端软件和服务器软件配合使用。远程桌面远程桌面使用RDP(Remote Desktop Protocol)远程桌面协议，大部分Windows都默认支持此协议，可以远程接入操作桌面。RFB和RDP区别RFB是在服务器端将窗口在显存中画好之后将图像传给客户端，客户端只充当一个图像解码显示的角色； RDP则将画图的工作交给了客户端，服务器需要了解客户端显示能力的具体情况，以便作出相应调整。RFB主要传图像，RDP主要传指令。就一般应用而言，RFB数据量太大，RDP对客户端要求较高，因此RFB适用于瘦客户端，RDP适用于低速网络。]]></content>
      <categories>
        <category>Knowledge</category>
      </categories>
      <tags>
        <tag>Virtualization</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[为什么北美东部冬季经常有暴风雪，而中国冷而少雪？]]></title>
    <url>%2F2018%2F11%2F16%2F%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8C%97%E7%BE%8E%E4%B8%9C%E9%83%A8%E5%86%AC%E5%AD%A3%E7%BB%8F%E5%B8%B8%E6%9C%89%E6%9A%B4%E9%A3%8E%E9%9B%AA%EF%BC%8C%E8%80%8C%E4%B8%AD%E5%9B%BD%E5%86%B7%E8%80%8C%E5%B0%91%E9%9B%AA%EF%BC%9F%2F</url>
    <content type="text"><![CDATA[学术预警！长文预警！多图预警！北美冬季的气候处于西风带的控制之下，西风带形成了一条很长的高空急流(Jet stream)。这条急流夏天的时候在加拿大北部地区，对美国的气候不造成明显影响，而冬天的时候，急流从美国中间穿过，形成了整个冬季的冷暖气团对峙局面。高空急流形成的原因，高中地理都学过，我就不解释了。美国冬季典型的天气分布是这样的，以今年更为明显。今年冬天整个西部温暖如春，比平均温度高15~25华氏度，东部冰天雪地，比平均温度低15~25华氏度。这条高空急流从太平洋吹过来，在美国西海岸遇到了高山，被推到了高纬度，在华盛顿州的迎风坡造成了大量降水，又一路绕过落基山脉，来到了大平原。大平原地区没有任何山脉的阻挡，急流可以一路南下直到德克萨斯州，最南的时候可以到达佛罗里达州北部。这条急流所在的区域一般约等于0度等温线，所以冬天的时候来冷空气，佛罗里达州北部可能都会产生霜冻灾害。为什么无法再往南推进了，因为墨西哥湾的暖气团太强大了，所以佛罗里达州的南部城市比如迈阿密，从来没有经历过霜冻灾害。拿答主写答案的当前时间为例，北边再冷的时候，佛罗里达州南部都是暖和的，佛罗里达三面环海，完全受到墨西哥湾暖流的控制。（图中深蓝色是0度等温线）与此同时，一场暴风雪正在酝酿中现在的降水不强大，因为没遇到什么水汽。两天后（2015/02/25）当这股降水被吹到北卡罗来纳州，遇到北大西洋暖流带来的的暖气团时，冷暖空气交汇，将会给当地造成暴雪。5~8英寸约等于12到20厘米深的积雪。这对于中国而言，绝对是大暴雪了，美国人民表示见得多了，什么样的大雪没见过？今年一月底东北部的那场大雪，比这个高到不知道哪里去了。好了话说回来。这条高空急流是会经常随意摆动的，当加拿大的极地冷空气势力强的时候，就被推得更南下，当墨西哥湾暖气团势力强的时候，就会被往北推。由于美国东部地形比较平坦，所以高空急流的位移幅度非常大。南则兵临佛罗里达，北则退到缅因州。所以凡是高空急流扫过的地方，都会形成冷锋或暖锋，带来丰富的降水。今年冬天太冷了，所以佛罗里达州雨也下的多了，正常年份是，佛罗里达类似于国内的海南岛，因为冷空气够不着，所以没法形成降水，冬季很干燥。但是美国东海岸越往北，冬季的降水比例越大。以我居住的波士顿为例，一年四季的降水分配情况基本上是平均的，三四月份和十一十二月份降水较多，因为那个时段冷暖交替，被高空急流扫过的频率比较高。今年下雪下疯了，人行道上堆起来的雪太高了，我得跳起来才能看见马路对面……对比一下和波士顿同纬度的中国城市沈阳。在气温上来对比，沈阳冬天比波士顿冷，夏天比波士顿热，气温年较差比较大，因为中国东部的气候比较大陆性，美国东部的气候受到哈得孙湾和五大湖等水体的影响比较海洋性。有趣的是，美国东部的气候在冬天比中国东部要极端的多。看看一月极端最高温度，波士顿是22度，沈阳是8度，波士顿的日极端比日平均高温要高20度，而沈阳只有13度。波士顿的极端低温也比平均低温要低20度，沈阳小一点，17度。生活在中国北方的人都知道，只要河一结冰，开春之前都是不会化的，所以可以放心的冰上走，而美国东北部的河流一般不会整个封冻，冷几天就冻上了，暖几天就化了，除非遇到今年这种特别冷的年份，不敢在冰上走。中国东部的冬天是稳定的，比如沈阳的一月，每天都是最低零下十几度，最高零下几度，但波士顿的一月，有时候最低零下十几度，有时候最低甚至有零上五六度。之所以产生这么大的变化幅度，因为高空急流的位置不同。当高空急流位于南方时，美国东北部就会受到加拿大的极地高压的影响，而高空急流暂时减弱，墨西哥湾暖流占优势时，美国东北部就会受到大西洋的低气压影响。如果这时候突然来了冷空气，就会形成暴风雪。相比，因为中国近海没有暖流，所以中国的东北部几乎一直在西伯利亚-蒙古高压的控制之下，气温稳定而冷，不会出现极端的变化。没有冷暖气团的相遇，就不会形成多少降水，这就是为什么中国北方的冬天干而冷。在中国南方，因为纬度比较低，太阳辐射强，晴天容易升温，遇到冷空气的时候一般就会形成冷锋下雨或者下雪，冬季比较湿冷。但是再怎么湿冷，由于控制中国南方的暖气团势力远远不如墨西哥湾的暖气团强，所以不会形成明显的降水，下雨也只是下小雨，不会出现像夏天一样的暴雨。在中国的东部，冬天影响天气的几乎只有一个变量，那就是有没有冷空气来。如果没有冷空气来，尤其是在黄河以南，天气会随着晴天越来越暖和，直到来一个冷空气大降温，几天的暖和又回到解放前，气温的变化一般是这样的。冷空气来大降温，几天出太阳越来越暖和，直到又来一个冷空气。秋天的时候冷空气的降温更快，太阳晒暖和的速度赶不上，所以越来越冷；春天的时候太阳晒得更快，来一个冷空气倒春寒一下。而美国东部冬天的天气有两个变量影响，不仅要考虑从背面袭来的冷空气，还要考虑从南面袭来的暖空气。这两方打斗不停，所经之处下雨下雪，类似梅雨的形成原因。冷空气控制下冷几天，暖空气控制下暖和几天，反复无常，毫无规律可循。所有直角的地方，基本上都得下雨下雪。暖空气来了就暖锋下雨，冷空气来了就冷锋下雪。在美国东部，尤其是东北部生活的时候你会发现一个现象，就是阴天往往比晴天暖和。因为晴天的时候基本代表高空急流在你南边，高气压控制，冷；阴天的时候基本代表高空急流在你北边，低气压控制，暖。还有一个现象就是，早上比傍晚暖和，或者第二天早上比前一天傍晚暖和。发生这种事的时候，那就是高空急流在移动，扫过你的所在地了。美国东部的冬天气温可以说是完全不受太阳辐射影响，连晒几天太阳并不会明显增温，连下几天雨也不一定会降温。气温完全取决于你的所在地当前是受到什么气团的控制，而气团被高空急流所分割开，所以美国的天气预报别的先不说，先在地图上画一条线，告诉你明天高空急流在哪里，你自己看吧，你在它北边你就冷，你在它南边你就暖和，你被它压着你就很可能下雨下雪。如果是这种情况，那么就是西海岸冷，东海岸暖和，高空急流从南方绕过去，反正一般不会从美国中部山最高的地方穿过去。雷达蓝色的是下雪，绿色的是下雨，这就是一场横扫中部的暴风雪。今年为什么东北部下雪那么多，因为今年的高空急流长期保持这种形状。从西海岸北部穿过，给加拿大西海岸带来充沛降水，然后从中部杀下来，再从沿海走上去。由于盛行西风，当冷空气穿过的时候遇到五大湖的水汽，再遇到北大西洋暖流，在新英格兰地区带来百年一遇的连续的暴风雪。不仅下雪，因为对流太强烈，还会打雷，冬天北方打雷这在中国是无法想象的！最后还得吐槽一句啊，美国的天气预报信息太全面了，The Weather Channel可以显示每时每刻当前全国的气温降水风速分布图等等，中国天气网就没这功能，要看雷达图也只能看一小块局部的，更别说全国当前气温分布图了。中央气象台还得提高姿势水平啊，不要动不动一下雪了就弄个大新闻，跑得比香港记者还快。]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[寒假计划NASA之旅]]></title>
    <url>%2F2018%2F11%2F11%2F%E5%AF%92%E5%81%87%E8%AE%A1%E5%88%92NASA%E4%B9%8B%E6%97%85%2F</url>
    <content type="text"><![CDATA[休斯顿（Houston）德州最大城市，美国第四大城市。提及休斯顿，人们最耳熟能详的莫过于姚明曾效力的NBA火箭队了。然而，在这里，并非只有篮球爱好者才能寻迹自己的梦想，包容、多元的休斯顿也为艺术家们提供了丰富多彩的舞台。休斯顿整个城市都充满了浓厚的艺术氛围，无论是露天的音乐派对，还是即兴的街头表演，抑或是剧院和艺术中心演出的芭蕾舞和歌剧……在这里，你随时可以欣赏到高质量的艺术表演。小编本次就带大家开启休斯顿艺术之行。]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>游记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Markdown语法]]></title>
    <url>%2F2018%2F11%2F11%2FMarkdown%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Markdown语法一级标题二级标题五级标题列表第一项列表第二项有序列表第一项有序列表第二项标题斜体粗体引用段落代码块]]></content>
  </entry>
  <entry>
    <title><![CDATA[开始Hexo之旅]]></title>
    <url>%2F2018%2F11%2F10%2F%E5%BC%80%E5%A7%8BHexo%E4%B9%8B%E6%97%85%2F</url>
    <content type="text"><![CDATA[今天开始部署属于自己的Hexo博客。]]></content>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
</search>
